<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:microcharts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             x:Class="ProyectoFinal.Vista.EstadisticasView"
             BackgroundColor="#121212"
             Shell.NavBarIsVisible="False"
             Title="EstadÃ­sticas">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label Text="ðŸ“Š EstadÃ­sticas de Entrenamiento"
                   FontSize="32"
                   TextColor="#00FF99"
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />

            <BoxView Color="#2E2E2E" HeightRequest="2" HorizontalOptions="Fill"/>

            <!-- Mensaje -->
            <Label Text="{Binding Mensaje}"
                   TextColor="Red"
                   HorizontalOptions="Center"
                   IsVisible="{Binding Mensaje, Converter={StaticResource StringNotNullOrEmptyConverter}}" />

            <!-- Resumen numÃ©rico -->
            <StackLayout Spacing="10">
                <Label Text="Total de Sesiones" FontSize="24" TextColor="White" />
                <Label Text="{Binding TotalSesiones}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Ejercicios por SesiÃ³n" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioEjerciciosPorSesion}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Repeticiones por Ejercicio" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioRepeticionesPorEjercicio}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Peso Levantado (kg)" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioPesoLevado}" FontSize="18" TextColor="White" />
            </StackLayout>

            <!-- GrÃ¡ficos -->
            <Label Text="EvoluciÃ³n semanal de peso levantado (kg)" FontSize="24" TextColor="White" HorizontalOptions="Center" />
            <Frame BackgroundColor="Transparent" BorderColor="Gray" CornerRadius="15" Padding="15">
                <microcharts:ChartView Chart="{Binding GraficoPesoSemanal}"
                                   HeightRequest="250" />
            </Frame>

            <Label Text="Frecuencia semanal de entrenamiento" FontSize="24" TextColor="White" HorizontalOptions="Center" />
            <Frame BackgroundColor="Transparent" BorderColor="Gray" CornerRadius="15" Padding="15">
                <microcharts:ChartView Chart="{Binding GraficoFrecuenciaSemanal}"
                                   HeightRequest="250" />
            </Frame>

            <Label Text="Ejercicios realizados (conteo)" FontSize="24" TextColor="White" HorizontalOptions="Center" />
            <Frame BackgroundColor="Transparent" BorderColor="Gray" CornerRadius="15" Padding="15">
                <microcharts:ChartView Chart="{Binding GraficoEjercicios}"
                                   HeightRequest="250" />
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage> 
