<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ProyectoFinal.Vista.EstadisticasView"
             BackgroundColor="#121212"
             Shell.NavBarIsVisible="False"
             Title="EstadÃ­sticas"
             xmlns:microcharts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             >

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- TÃ­tulo -->
            <StackLayout Spacing="4">
                <Label Text="ðŸ“Š EstadÃ­sticas de Entrenamiento"
                       FontSize="32"
                       TextColor="#00FF99"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />
                <BoxView Color="#2E2E2E" HeightRequest="2" HorizontalOptions="Fill"/>
            </StackLayout>

            <!-- Fecha Inicio y Fin -->
            <Label Text="Selecciona el rango de fechas:"
                   FontSize="20"
                   TextColor="White" />

            <HorizontalStackLayout Spacing="20">
                <VerticalStackLayout>
                    <Label Text="Desde:" TextColor="White"/>
                    <DatePicker Date="{Binding FechaInicio}" />
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="Hasta:" TextColor="White"/>
                    <DatePicker Date="{Binding FechaFin}" />
                </VerticalStackLayout>
            </HorizontalStackLayout>

            <!-- Mensaje de error o advertencia -->
            <Label Text="{Binding Mensaje}"
                   TextColor="Red"
                   HorizontalOptions="Center"
                   IsVisible="{Binding MensajeVisible}" />

            <!-- EstadÃ­sticas -->
            <StackLayout Spacing="15">
                <Label Text="Total de Sesiones" FontSize="24" TextColor="White" />
                <Label Text="{Binding TotalSesiones}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Ejercicios por SesiÃ³n" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioEjerciciosPorSesion}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Repeticiones por Ejercicio" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioRepeticionesPorEjercicio}" FontSize="18" TextColor="White" />

                <Label Text="Promedio de Peso Levantado" FontSize="24" TextColor="White" />
                <Label Text="{Binding PromedioPesoLevado}" FontSize="18" TextColor="White" />

                <!-- GrÃ¡fico de lÃ­neas (Progreso Semanal de Peso) -->
                <Label Text="Progreso Semanal de Peso (kg)" FontSize="24" TextColor="White" HorizontalOptions="Center"/>

                <!-- GrÃ¡fico de LÃ­neas -->
                <microcharts:ChartView Chart="{Binding GraficoPesoSemanal}"
                               HeightRequest="300"
                               HorizontalOptions="Fill"
                               VerticalOptions="StartAndExpand" />
            </StackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
